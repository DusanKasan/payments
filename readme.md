# Payments

This repository contains all the tooling to run the Payments server as well as the server itself. The code here uses Go modules so you may need to turn them on. All dependencies are vendored and commited in the `vendor` directory.

## Usage

`docker-compose -f deployments/docker-compose.yml up`

Simplest way is to invoke the shipped docker compose file. This will start a new server with a temporary database, ready to receive connections at port 8080.

You can also run the server locally (see docs at `cmd/payments/readme.md`) and run migrations by hand (see docs at `tools/migrate/readme.md`)

## Documentation

The documentation for the API can be found in the form of OpenAPI 3 specs in `api/openapi.yml`. Documentation for the code can be generated by running `godoc`, but remember to generate the docs also for non-exported stuff since all logic is in internal package.

## Code structure

This repository follows the [Project Layout Guidelines](https://github.com/golang-standards/project-layout) and contains the following directories:

- api (the OpenAPI specs)
- cmd (the main application)
- database (migrations)
- deployments (docker and compose)
- internal (self explanatory)
- test (pact test, half baked - should run in against a disposable instance)
- tools (supporting tools, currently only migrations)
- vendor (dependencies)